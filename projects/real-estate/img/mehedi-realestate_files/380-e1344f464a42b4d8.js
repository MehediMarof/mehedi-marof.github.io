try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},i=(new e.Error).stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="e17b4e04-a371-436b-87e9-db8ab1ec1790",e._sentryDebugIdIdentifier="sentry-dbid-e17b4e04-a371-436b-87e9-db8ab1ec1790")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"afc8ef8"},(self.webpackChunk_loomhq_web_client=self.webpackChunk_loomhq_web_client||[]).push([["380"],{72878:function(e,i,t){"use strict";t.d(i,{Uj:()=>a,VY:()=>n,kZ:()=>r,nL:()=>s,p4:()=>d,x4:()=>o,zd:()=>l});let n="FileTypeUnsupported",a="FPSTooHighError",o="ResolutionTooHighError",r="MaxDurationError",l=4294967296,d=60,s=12},15931:function(e,i,t){"use strict";t.d(i,{Ih:()=>o,Rb:()=>r,SL:()=>d,aD:()=>n,f7:()=>l,t8:()=>a});let n="private",a="admin_tool",o="signup_flow",r="create_workspace_modal",l="signup_modal",d={SUSPENDED_NON_PAYMENT:"suspended_non_payment"};var s,m,f=((s=f||{}).INITIAL="initial",s.CONTENT="content",s.WORKSPACE="workspace",s),u=((m=u||{}).RECEIVED="received",m.SUCCESS="success",m.FAILURE="failure",m)},30207:function(e,i,t){"use strict";t.d(i,{Wx:()=>s,_8:()=>d}),t(46155);var n=t(40899),a=t(96101),o=t(2831);let r={},l=(0,n.J1)`
    query GetUpgradeWorkspaceRequestStatus {
  getUpgradeWorkspaceRequestStatus {
    ... on GetUpgradeWorkspaceRequestStatusPayload {
      status
    }
  }
}
    `;function d(e){let i={...r,...e};return a.IT(l,i)}function s(e){let i={...r,...e};return o._(l,i)}},39996:function(e,i,t){"use strict";t.d(i,{Q:()=>k});var n=t(58478),a=t.n(n),o=t(89263),r=t(60671),l=t(27039),d=t(93704),s=t(30207),m=t(96821),f=t(89941),u=t(7170),c=t(27986),p=t(19400),v=t(921);let k=({analyticsEvent:e=null,children:i,placement:t="bottomCenter",title:n,feature:k=c.o1.DEFAULT,inActivitySidebar:x=!1})=>{let g=(0,d.F)(),y=(0,f.Ei)(),h=!!y?.isViewerRoleHidden,b=(0,m.z)(),w=(0,p.J)(),{data:S,called:E}=(0,s._8)({fetchPolicy:"no-cache"}),_=S?.getUpgradeWorkspaceRequestStatus?.__typename==="GetUpgradeWorkspaceRequestStatusPayload"?S.getUpgradeWorkspaceRequestStatus.status:null,N=n||c.FG[k],I=(0,c.Nr)();return E?o.createElement(r.m_M,{placement:t,maxWidth:46,isInline:!1,keepOpen:!0,triggerOffset:x?11:void 0,content:o.createElement("div",{className:a()("theme-dark")},o.createElement(r.m9q,{isSpread:!0},o.createElement(r.EYj,{size:"body-sm",fontWeight:"bold"},_?"Your request has been sent!":N),o.createElement(r.m9q,null,o.createElement(r.Int,{color:"upgrade",size:2,icon:o.createElement(l.C,null)}),o.createElement(r.hKd,{left:.5}),o.createElement(r.EYj,{color:"upgrade",fontWeight:"bold",size:"body-sm"},"Upgrade"))),o.createElement(r.hKd,{bottom:1}),o.createElement(r.EYj,{size:"body-sm"},(0,c.X9)({selectedWorkspace:y,minRoleForFeature:I,requestStatus:_,hideViewerRole:h,pureTrial:b})))},w?o.createElement(v.Z,null,()=>o.createElement("div",{className:"disabledButtonWrapper pointer",onClick:()=>g("business",{analyticEvent:e}),role:"button",tabIndex:-1},i)):o.createElement("div",{className:"disabledButtonWrapper pointer",onClick:()=>{(0,u.Ys)("billing.paywall.tooltip.click",{feature:String(c.o1[k]).toLowerCase()}),g("business",{analyticEvent:e})},role:"button",tabIndex:-1},i)):null}},58532:function(e,i,t){"use strict";t.d(i,{uP:()=>eg,AP:()=>ex,tR:()=>ey});var n=t(58478),a=t.n(n),o=t(89263),r=t(57048),l=t(22580),d=t(59473),s=t(60671),m=t(42173),f=t(44472),u=t(98482),c=t(39996),p=t(29665),v=t(79569),k=t(41339),x=t(89941),g=t(22318),y=t(27986),h=t(37824),b=t(91670),w=t.n(b),S=t(92181),E=t(54788),_=t(32566),N=t(72878),I=t(15931),F=t(49259),C=t(84306),U=t(67417).Buffer;let T=e=>[...e].map(e=>e.charCodeAt(0)),D=T("META-INF/mozilla.rsa"),z=T("[Content_Types].xml"),P=T("_rels/.rels"),A=e=>{if(!(e instanceof Uint8Array||U.isBuffer(e)))throw TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\`, got \`${typeof e}\``);let i=e instanceof Uint8Array?e:new Uint8Array(e);if(!(i&&i.length>1))return null;let t=(e,t={offset:0})=>{for(let n=0;n<e.length;n++)if(t.mask){if(e[n]!==(t.mask[n]&i[n+t.offset]))return!1}else if(e[n]!==i[n+t.offset])return!1;return!0},n=(e,i={offset:0})=>t(T(e),i);if(t([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(t([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(t([71,73,70]))return{ext:"gif",mime:"image/gif"};if(t([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(t([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((t([73,73,42,0])||t([77,77,0,42]))&&t([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(t([73,73,42,0])||t([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(t([66,77]))return{ext:"bmp",mime:"image/bmp"};if(t([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(t([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(t([80,75,3,4])){if(t([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(t(D,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(n("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(n("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(n("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};let e=(e,i=0)=>e.findIndex((e,t,n)=>t>=i&&80===n[t]&&75===n[t+1]&&3===n[t+2]&&4===n[t+3]),a=0,o=!1,r=null;do{let l=a+30;if(o||(o=t(z,{offset:l})||t(P,{offset:l})),r||(n("word/",{offset:l})?r={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:n("ppt/",{offset:l})?r={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:n("xl/",{offset:l})&&(r={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),o&&r)return r;a=e(i,l)}while(a>=0)if(r)return r}if(t([80,75])&&(3===i[2]||5===i[2]||7===i[2])&&(4===i[3]||6===i[3]||8===i[3]))return{ext:"zip",mime:"application/zip"};if(t([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(t([82,97,114,33,26,7])&&(0===i[6]||1===i[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(t([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(t([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(t([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(t([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(t([51,103,112,53])||t([0,0,0])&&t([102,116,121,112],{offset:4})&&(t([109,112,52,49],{offset:8})||t([109,112,52,50],{offset:8})||t([105,115,111,109],{offset:8})||t([105,115,111,50],{offset:8})||t([109,109,112,52],{offset:8})||t([77,52,86],{offset:8})||t([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(t([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(t([26,69,223,163])){let e=i.subarray(4,4100),t=e.findIndex((e,i,t)=>66===t[i]&&130===t[i+1]);if(-1!==t){let i=t+3,n=t=>[...t].every((t,n)=>e[i+n]===t.charCodeAt(0));if(n("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(n("webm"))return{ext:"webm",mime:"video/webm"}}}if(t([0,0,0,20,102,116,121,112,113,116,32,32])||t([102,114,101,101],{offset:4})||t([102,116,121,112,113,116,32,32],{offset:4})||t([109,100,97,116],{offset:4})||t([109,111,111,118],{offset:4})||t([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(t([82,73,70,70])){if(t([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(t([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(t([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(t([48,38,178,117,142,102,207,17,166,217])){let e=30;do{let n=function(e,i=0){let t=e[i],n=1,a=0;for(;++a<8;)n*=256,t+=e[i+a]*n;return t}(i,e+16);if(t([145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101],{offset:e})){if(t([64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wma",mime:"audio/x-ms-wma"};if(t([192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43],{offset:e+24}))return{ext:"wmv",mime:"video/x-ms-asf"};break}e+=n}while(e+24<=i.length)return{ext:"asf",mime:"application/vnd.ms-asf"}}if(t([0,0,1,186])||t([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(t([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(let e=0;e<2&&e<i.length-16;e++){if(t([73,68,51],{offset:e})||t([255,226],{offset:e,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(t([255,228],{offset:e,mask:[255,228]})||t([255,248],{offset:e,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(t([255,240],{offset:e,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(t([102,116,121,112,77,52,65],{offset:4}))return{ext:"m4a",mime:"audio/mp4"};if(t([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(t([79,103,103,83]))return t([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:t([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:t([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:t([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:t([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(t([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(t([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(t([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(t([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(t([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(t([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((67===i[0]||70===i[0])&&t([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(t([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(t([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(t([119,79,70,70])&&(t([0,1,0,0],{offset:4})||t([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(t([119,79,70,50])&&(t([0,1,0,0],{offset:4})||t([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(t([76,80],{offset:34})&&(t([0,0,1],{offset:8})||t([1,0,2],{offset:8})||t([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(t([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(t([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(t([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(t([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(t([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(t([37,33]))return{ext:"ps",mime:"application/postscript"};if(t([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(t([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(t([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(t([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(t([77,83,67,70])||t([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(t([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(t([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(t([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(t([31,160])||t([31,157]))return{ext:"Z",mime:"application/x-compress"};if(t([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(t([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(t([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(t([71],{offset:4})&&(t([71],{offset:192})||t([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(t([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(t([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(t([0,0,0,12,106,80,32,32,13,10,135,10])){if(t([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(t([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(t([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(t([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(t([70,79,82,77]))return{ext:"aif",mime:"audio/aiff"};if(n("<?xml "))return{ext:"xml",mime:"application/xml"};if(t([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(t([102,116,121,112],{offset:4})){if(t([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(t([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(t([104,101,105,99],{offset:8})||t([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(t([104,101,118,99],{offset:8})||t([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return t([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:t([68,73,67,77],{offset:128})?{ext:"dcm",mime:"application/dicom"}:t([77,80,43])?{ext:"mpc",mime:"audio/x-musepack"}:t([77,80,67,75])?{ext:"mpc",mime:"audio/x-musepack"}:t([66,69,71,73,78,58])?{ext:"ics",mime:"text/calendar"}:t([103,108,84,70,2,0,0,0])?{ext:"glb",mime:"model/gltf-binary"}:t([212,195,178,161])||t([161,178,195,212])?{ext:"pcap",mime:"application/vnd.tcpdump.pcap"}:null};Object.defineProperty(A,"minimumBytes",{value:4100});var V=t(39328),L=t(80254),j=t(9183),R=t(47698),O=t(31422),q=t.n(O),$=t(54904),W=t.n($);let G=/https:\/\/loom-media-(?:dev|staging|production)\.s3\.us-west-2\.amazonaws\.com\/uploads\/\d+\/(.+)|https:\/\/[^/]+\/api\/v1\/buckets\/loom-media-content\/objects\/uploads-\d+-(.+)/,M=/[^\p{L}\p{Emoji_Presentation}\d\s\-_]/gu,B="my-videos";S.RequestClient.prototype.preflightAndHeaders=function(e){return Promise.all([this.preflight(e),this.headers()]).then(([e,i])=>{let t=[...e,"content-type"];return Object.keys(i).forEach(e=>{-1===t.indexOf(e.toLowerCase())&&(this.uppy.log(`[CompanionClient] excluding unallowed header ${e}`),delete i[e])}),i})};let Y={strings:{dropPasteImport:"Drag and drop videos here or import from",dropPaste:"Drag and drop videos here or %{browse}"}},K,H={},Q=(e,i)=>({folder_id:e,root_folder_id:B,library:I.aD,folder_special_id:B,selectedWorkspace:{...i,...(0,L.x)("getDashboardData selectedWorkspace",F.T.workspace(i?.id,"string","id"))},...(0,L.x)("getDashboardData",F.T.workspace(i?.id,"string","workspace_id"))}),X=e=>{let i=e.match(G);return i[1]??i[2]},J=(e,i,t,n,a)=>(0,j.Xc)().mutate({mutation:q(),variables:{fileName:e,keyPath:i,folderId:t,spaceId:n,videoProperties:a}}).then(({data:e})=>{let{video:i}=e;return i}),Z=(e,i)=>{let{id:t,type:n="",extension:a="",size:o,meta:{file_anonymous_id:r}={}}=e;V.error(i,{errorMessage:"string"==typeof i?i:i.message,previousError:"Error with file",fileId:t,fileType:n,fileExtension:a,fileSize:o},{feature:_.Xj.VideoUpload}),g.u4(p.Gcr,{...(0,L.x)(p.Gcr,F.T.anonymous(r,"file_anonymous_id")),mime_type:n.toLowerCase(),file_extension:a.toLowerCase(),file_size:o,err_message:i.message})},ee=e=>{let{type:i="",extension:t=""}=e,n=new FileReader;n.onload=()=>{let i=new Uint8Array(n.result),{mime:t}=A(i)||{};t||V.warning("File type can not be read"),t&&!E.vc.includes(t)&&(K.removeFile(e.id),K.info(`This file was removed its file type isn't supported yet: ${e.name}`,"error",5e3))},n.readAsArrayBuffer(e.data);let a=(0,r.A)();K.setFileMeta(e.id,{file_anonymous_id:a}),g.u4(p.D9F,{...(0,L.x)(p.D9F,F.T.anonymous(a,"file_anonymous_id")),mime_type:i.toLowerCase(),file_extension:t.toLowerCase()})},ei=e=>{let{type:i="",extension:t="",meta:{file_anonymous_id:n}={}}=e;g.u4(p.HAI,{...(0,L.x)(p.HAI,F.T.anonymous(n,"file_anonymous_id")),mime_type:i.toLowerCase(),file_extension:t.toLowerCase()})},et=e=>{let{type:i="",extension:t="",size:n,meta:{file_anonymous_id:a}={}}=e,o=K?.opts?.restrictions?.maxFileSize;g.u4(p.h3$,{...(0,L.x)(p.h3$,F.T.anonymous(a,"file_anonymous_id")),mime_type:i.toLowerCase(),file_extension:t.toLowerCase(),file_size:n,over_size_limit:n>o,unsupported_file_type:!E.sX.has(`.${t.toLowerCase()}`)})},en=(e,i)=>async(t,n)=>{let a;let o=t.name.split(".").slice(0,-1).join("."),r=new Date().getTime(),l=decodeURIComponent(n.uploadURL),d=X(l),s=K.getState(),{files:m={}}=s,f=m[t.id],{meta:{file_anonymous_id:u}={}}=t;K.setFileState(t.id,{progress:{...f.progress,uploadComplete:!1},uploadURL:""});try{a=await J(o,d,e,i,{file_size:t.size,file_anonymous_id:t.meta.file_anonymous_id})}catch(e){V.warning("Unable upload video file",{error:e})}if(!a)return;let c=`${C.J4}/share/${a.id}`;if(K.setFileState(t.id,{progress:{...f.progress,uploadComplete:!0},uploadURL:c}),1===Object.keys(m).length){let e=window.open(c,"_blank");e&&(e.opener=null,e.location=c)}g.u4(p.Ruz,{...(0,L.x)(p.Ruz,F.T.anonymous(u,"file_anonymous_id"),F.T.video(a.id,"video_id")),mime_type:t.type.toLowerCase(),file_extension:t.extension.toLowerCase(),file_size:t.size,upload_time:r-H[t.id]})},ea=async e=>{let i=K.getState();Object.keys(i.files).length&&(e(null),await (0,j.Xc)().refetchQueries({include:["GetLooms"]}))},eo=e=>{let{fileIDs:i}=e,t=new Date().getTime();i.forEach(e=>{H[e]=t}),g.u4(p.ssE,{num_files:i.length})},er=e=>{g.u4(p.pjY,{num_success:e.successful.length,num_failed:e.failed.length})},el=()=>{g.u4(p.HaQ)},ed=()=>{g.u4(p.fNu)},es=e=>{let i=N.zd;e?.setOptions({restrictions:{maxFileSize:i}})},em=e=>{let i=e.name.split("."),t=i.pop(),n=i.join(".").replace(M,"")||"video_upload";return{...e,name:`${n}.${t}`}},ef=(e={},i,t,n,a)=>{K&&eu(i,t,n),K=new l.Uppy({restrictions:{allowedFileTypes:Array.from(E.sX),maxFileSize:N.zd,maxNumberOfFiles:10},onBeforeFileAdded:em,...e});let o=!1,r=async()=>{if(o)return;o=!0;let e=(await (0,j.Xc)().mutate({mutation:W()})).data.createFileUploadCredentials;"ObjectStoreInfo"===e.credentials.__typename?K.use(R.O,{getUploadParameters:i=>Promise.resolve({...e.credentials,entity:"video",userId:a}),onUploadComplete:(e,i)=>(V.info("upload completed",{fileName:e.name,objectId:i}),Promise.resolve())}):K.use(w(),{companionUrl:"/video_uploads"})};return K.addPreProcessor(async()=>{await r()}),K.on("file-added",ee),K.on("file-removed",ei),K.on("restriction-failed",et),K.on("upload",eo),K.on("upload-retry",el),K.on("upload-success",en(t,n)),K.on("upload-error",Z),K.on("complete",er),K.on("cancel-all",ed),K.on("dashboard:modal-closed",()=>ea(i)),es(K),K},eu=(e,i,t)=>{K&&(K.off("file-added",ee),K.off("file-removed",ei),K.off("restriction-failed",et),K.off("upload",eo),K.off("upload-retry",el),K.off("upload-success",en(i,t)),K.off("upload-error",Z),K.off("complete",er),K.off("cancel-all",ed),K.off("dashboard:modal-closed",()=>ea(e)),K.close(),K=null,H={})};var ec=t(51382);let ep=()=>{let e="https://releases.transloadit.com/uppy/v3.14.0/uppy.min.css",[i,t]=(0,o.useState)(e?"loading":"idle");return(0,o.useEffect)(()=>{if(!e){t("idle");return}let i=document.querySelector(`link[href="${e}"]`),n=e=>{t("load"===e.type?"ready":"error")};return i||((i=document.createElement("link")).setAttribute("href",e),i.setAttribute("rel","stylesheet"),document.head.prepend(i)),i.addEventListener("load",n),i.addEventListener("error",n),()=>{i&&(i.removeEventListener("load",n),i.removeEventListener("error",n))}},[e]),i},ev=null,ek="1"===(0,ec.sF)("upload"),ex=e=>{let i=(0,v.n)();return(0,k.s1)(f.r3)&&!i?{title:o.createElement(s.EYj,null,"Upload a video"),icon:o.createElement(m.O,null),onClick:()=>{e(!0)}}:{title:o.createElement(c.Q,{feature:y.o1.UPLOAD_VIDEO},"Upload a video"),icon:o.createElement(m.O,null),disabled:!0}},eg=({showDashboardModal:e,setShowDashboardModal:i})=>{ep();let{setRenameId:t,currentFolderId:n,currentSpaceId:a}=(0,h.$)(),l=(0,x.Ei)(),s=(0,u.useCurrentUserSelector)(e=>e.id,null);return(0,o.useEffect)(()=>{if(ev=ef({allowMultipleUploadBatches:!0,allowMultipleUploads:!0},t,n,a,s),ek){i(!0);let e=Q(n,l);g.u4(p.E6,{pathname:window.location.pathname,...e})}return()=>{eu(t,n,a),ev=null}},[i,n,a,t,l,s]),(0,o.useEffect)(()=>{e&&ev&&ev.getFiles().forEach(e=>{e.progress?.uploadComplete&&ev?.removeFile(e.id)})},[e]),ev?o.createElement(d.KG,{id:(0,r.A)(),uppy:ev,showLinkToFileUploadResult:!0,open:e,closeModalOnClickOutside:!0,onRequestClose:()=>{i(!1);let e=Q(n,l);g.u4(p.IlP,{pathname:window.location.pathname,...e})},locale:Y,closeAfterFinish:!1}):null},ey=({isDisabled:e=!1,plaintextButton:i=!1,icon:t=null,inDropdown:n=!1,buttonVariant:r="primary",customStyle:l,buttonText:d="Upload video",hasFullWidth:m=!1})=>{let[f,u]=o.useState(!1),{currentFolderId:c}=(0,h.$)(),v=(0,x.Ei)(),k=()=>{u(!0);let e=Q(c,v);g.u4(p.I8z,{pathname:window.location.pathname,...e})};return n?o.createElement("span",{onClick:e?()=>{}:k},"Upload video"):i?o.createElement(s.QWc,{onClick:e?()=>{}:k,icon:t},"Upload video"):o.createElement(o.Fragment,null,o.createElement(eg,{showDashboardModal:f,setShowDashboardModal:u}),o.createElement(s.$nd,{className:a()(l&&l),variant:r,onClick:k,isDisabled:e,icon:t,width:m?"full":"auto"},o.createElement("span",null,d)))}},79569:function(e,i,t){"use strict";t.d(i,{n:()=>r});var n=t(68633),a=t(59117),o=t(39352);function r(){let e=(0,a.Ei)(),{data:i}=(0,n.GV)({variables:{workspaceId:e?.id},skip:!e?.id}),t=i?.billing?.billing_details;return(0,o.r3)(t)}},19400:function(e,i,t){"use strict";t.d(i,{J:()=>s});var n=t(39381),a=t(8762),o=t(68633),r=t(39352),l=t(59117);let d=()=>{let e=(0,l.Ei)(),i=e?.memberRole===n._1,t=e?.type===a.Bn;return i&&t},s=()=>{let e=d(),i=function(){let e=(0,l.Ei)(),{data:i}=(0,o.GV)({variables:{workspaceId:e?.id},skip:!e?.id}),t=i?.billing?.billing_details,d=e?.type===a.lZ,s=(0,r.r3)(t),m=e?.memberRole===n._1;return d&&s&&m}();return e||i}},37824:function(e,i,t){"use strict";t.d(i,{$:()=>a});var n=t(29305);let a=(0,n.A)(e=>({checkedItems:[],renameId:null,currentFolderId:null,currentSpaceId:null,setCheckedItems:i=>e(()=>({checkedItems:i})),setRenameId:i=>e(()=>({renameId:i})),setCurrentFolderId:i=>e(()=>({currentFolderId:i})),setCurrentSpaceId:i=>e(()=>({currentSpaceId:i}))}))},31422:function(e){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CompleteVideoFileUpload"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keyPath"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"folderId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"spaceId"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileName"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoProperties"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"InputVideoProperties"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"video"},name:{kind:"Name",value:"completeVideoFileUpload"},arguments:[{kind:"Argument",name:{kind:"Name",value:"keyPath"},value:{kind:"Variable",name:{kind:"Name",value:"keyPath"}}},{kind:"Argument",name:{kind:"Name",value:"folderId"},value:{kind:"Variable",name:{kind:"Name",value:"folderId"}}},{kind:"Argument",name:{kind:"Name",value:"spaceId"},value:{kind:"Variable",name:{kind:"Name",value:"spaceId"}}},{kind:"Argument",name:{kind:"Name",value:"fileName"},value:{kind:"Variable",name:{kind:"Name",value:"fileName"}}},{kind:"Argument",name:{kind:"Name",value:"videoProperties"},value:{kind:"Variable",name:{kind:"Name",value:"videoProperties"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:342}};i.loc.source={body:"mutation CompleteVideoFileUpload(\n  $keyPath: String!\n  $folderId: String\n  $spaceId: String\n  $fileName: String\n  $videoProperties: InputVideoProperties!\n) {\n  video: completeVideoFileUpload(\n    keyPath: $keyPath\n    folderId: $folderId\n    spaceId: $spaceId\n    fileName: $fileName\n    videoProperties: $videoProperties\n  ) {\n    id\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function n(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}i.definitions.forEach(function(e){if(e.name){var i=new Set;(function e(i,t){if("FragmentSpread"===i.kind)t.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&t.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach(function(i){e(i,t)}),i.variableDefinitions&&i.variableDefinitions.forEach(function(i){e(i,t)}),i.definitions&&i.definitions.forEach(function(i){e(i,t)})})(e,i),t[e.name.value]=i}}),e.exports=i,e.exports.CompleteVideoFileUpload=function(e,i){var a={kind:e.kind,definitions:[n(e,i)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var o=t[i]||new Set,r=new Set,l=new Set;for(o.forEach(function(e){l.add(e)});l.size>0;){var d=l;l=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach(function(e){l.add(e)}))})}return r.forEach(function(i){var t=n(e,i);t&&a.definitions.push(t)}),a}(i,"CompleteVideoFileUpload")},54904:function(e){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateFileUploadCredentials"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createFileUploadCredentials"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreateFileUploadCredentialsPayload"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"credentials"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ObjectStoreInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hostname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bucket"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaceType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"siteId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"activationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiration"},arguments:[],directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"S3Info"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessKeyId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secretAccessKey"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sessionToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bucket"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"region"},arguments:[],directives:[]}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UserNotAuthorizedError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GenericError"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:631}};i.loc.source={body:"mutation CreateFileUploadCredentials {\n  createFileUploadCredentials {\n    ... on CreateFileUploadCredentialsPayload {\n      __typename\n      credentials {\n        ... on ObjectStoreInfo {\n          hostname\n          bucket\n          workspaceType\n          siteId\n          activationId\n          token {\n            value\n            expiration\n          }\n        }\n        ... on S3Info {\n          accessKeyId\n          secretAccessKey\n          sessionToken\n          bucket\n          region\n        }\n      }\n    }\n    ... on UserNotAuthorizedError {\n      message\n    }\n    ... on GenericError {\n      message\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var t={};function n(e,i){for(var t=0;t<e.definitions.length;t++){var n=e.definitions[t];if(n.name&&n.name.value==i)return n}}i.definitions.forEach(function(e){if(e.name){var i=new Set;(function e(i,t){if("FragmentSpread"===i.kind)t.add(i.name.value);else if("VariableDefinition"===i.kind){var n=i.type;"NamedType"===n.kind&&t.add(n.name.value)}i.selectionSet&&i.selectionSet.selections.forEach(function(i){e(i,t)}),i.variableDefinitions&&i.variableDefinitions.forEach(function(i){e(i,t)}),i.definitions&&i.definitions.forEach(function(i){e(i,t)})})(e,i),t[e.name.value]=i}}),e.exports=i,e.exports.CreateFileUploadCredentials=function(e,i){var a={kind:e.kind,definitions:[n(e,i)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var o=t[i]||new Set,r=new Set,l=new Set;for(o.forEach(function(e){l.add(e)});l.size>0;){var d=l;l=new Set,d.forEach(function(e){r.has(e)||(r.add(e),(t[e]||new Set).forEach(function(e){l.add(e)}))})}return r.forEach(function(i){var t=n(e,i);t&&a.definitions.push(t)}),a}(i,"CreateFileUploadCredentials")}}]);
//# sourceMappingURL=https://cdn.loom.com/internal-public/webapp-sourcemaps/js/380-e1344f464a42b4d8.js.map